import cohere
from cohere.classify import Example

co = cohere.Client("hCzFHQp5Y4ZiT5wLRpmKIwMrXXs4ICC8Pw7VT482")

#takes title as string
def classify_article(title):

    response = co.classify(
        model='large',
        inputs=[title],
        examples=[Example(" Catch me up: How to try the new AI tech everyone is talking about  ", "Technology"), Example("The future or cheating? Lowcountry schools have mixed reaction to AI technology", "Technology"), Example(" National Archives staff told visitors to hide antiabortion slogans, lawsuit says", "Politics"), Example("Three takeaways from Biden’s State of the Union address", "Politics"), Example("Nearly 1 million French march in 4th day of pension protests", "International Politics"), Example("Iran marks anniversary of Islamic Revolution amid anti-government protests", "International Politics"), Example("Wagner mercenaries chief admits Russia facing Bakhmut resistance", "Technology"), Example("Gay Teen Worried He Might Be Christian", "Satire"), Example("Half the wetlands in Europe lost in past 300 years, researchers calculate", "Environment"), Example("Things to Never Say To An Eagles Fan", "Satire"), Example("Tiger Woods says he will play Genesis Invitational in first event since Open", "Sports"), Example("Texas, Oklahoma leaving Big 12 early, joining SEC in 2024 season after reaching exit agreement", "Sports"), Example("How to protect our memory? Education is key, new science suggests", "Science"), Example("A New Alzheimer’s Drug Gave Patients Hope. Millions Can’t Get It", "Science"), Example(" Mystery surrounds what exactly was object US jet shot down over Alaska", "Politics"), Example("Wall Street braces for earnings to get hit by inflation", "Business"), Example(" Flint residents under citywide boil water advisory after water main break", "Local / Current News"), Example("Scientists fear a Great Toxic Dustbowl could soon emerge from the Great Salt Lake", "Environment"), Example("After a train derailment, Ohio residents are living the plot of a movie they helped make", "Local / Current News"), Example("U.S. blacklists 6 Chinese entities over spy balloon program", "Politics"), Example("Borgs are taking over college parties, and TikTok. What exactly are they?\n\n\n", "Culture"), Example("Can Latinx and Latino coexist? Some want to ban it, others are unbothered", "Culture"), Example("Owl photos are flooding the internet ahead of the Super Bowl. Here’s why.", "Culture"), Example(": U.S. Shoots Down Another High-Flying ‘Object’ Off Alaskan Coast", "Local / Current News"), Example("Effective Altruism Promises to Do Good Better. These Women Say It Has a Toxic Culture Of Sexual Harassment and Abuse", "Culture"), Example(" A New Guns Ruling Could Make Families Less Safe", "Politics"), Example("Why common cold symptoms may seem worse than before the pandemic\n\n\n", "Health"), Example("Teen falls 30 feet to her death while hiking the Moab Rim Trail", "Local / Current News"), Example("Rescue hopes dwindle as earthquake death toll passes 25,000", "Local / Current News"), Example("Hogwarts Legacy debuts amid LGBTQ gamer protests over J.K. Rowling", "Culture"), Example("Kaya, a service dog who helped her owner advocate for PTSD treatment and veterans’ health, has died", "Local / Current News"), Example("Canadian women’s national soccer team on strike over budget cuts and pay equity, its captain says", "World"), Example("The Streaming Wars Have Entered Their Chaos Era", "Culture"), Example("I’ve always bought too many clothes, but my life was being ruined by hoarding", "Lifestyle"), Example("God should just tell us Their pronouns - They’re quite powerful, after all", "Opinion"), Example(" Florida backs off athlete menstrual data, but debate lingers", "Politics"), Example(" Texas, Oklahoma leaving Big 12 early, joining SEC in 2024 season after reaching exit agreement", "Sports"), Example("Turn your nonworking fireplace into something beautiful", "Lifestyle"), Example("Judy Blume is here to save us", "Opinion"), Example("New Medicare Rule Aims to Take Back $4.7 Billion From Insurers", "Health"), Example("Nikola Builds Hydrogen Fuel Network to Power Zero-Emissions Trucks", "Business"), Example("As Anger Swells Over Quake, Turkey Detains Building Contractors", "World")])
    
    return response.classifications[0].prediction


#takes title as string
def classify_research(title):
    response = co.classify(
        model='large',
        inputs=[title],
        examples=[Example("Multiscale modelling of heavy metal adsorption on algal-bacterial photogranules", "Biology"), Example("How cells wrap around virus-like particles using extracellular filamentous protein structures  ", "Biology"), Example("Evolutionary dynamics of glucose-deprived cancer cells: insights from experimentally-informed mathematical modelling", "Biology"), Example("Local Volatility in Interest Rate Models", "FInance"), Example("Order book regulatory impact on stock market quality: a multi-agent reinforcement learning perspective", "FInance"), Example("Data-driven Approach for Static Hedging of Exchange Traded Options\n\n\n", "FInance"), Example("Trading Information between Latents in Hierarchical Variational Autoencoders\n\n\n", "Statistics"), Example("Log-Paradox: Necessary and sufficient conditions for confounding statistically significant pattern reversal under the log-transform", "Statistics"), Example("Optimal Learning of Deep Random Networks of Extensive-width\n\n\n", "Statistics"), Example("Situation-Aware Deep Reinforcement Learning for Autonomous Nonlinear Mobility Control in Cyber-Physical Loitering Munition Systems", "Electrical Engineering and Systems Science"), Example("Unsupervised Deep Learning for Massive MIMO Hybrid Beamforming", "Electrical Engineering and Systems Science"), Example("Spatio-temporal Vision Transformer for Super-resolution Microscopy\n\n\n", "Astrophysics"), Example("Ultra-luminous X-ray sources: extreme accretion and feedback", "Astrophysics"), Example("Synchrotron spectra of GRB prompt emission and pulsar wind nebulae", "Astrophysics"), Example("A ROSAT Hri Obsrevation of the Cooling Flow Cluster MS0839.9+2938  ", "Astrophysics"), Example("Temperature Dependent Photophysics of Single NV Centers in Diamond", "Condensed Matter"), Example("A Variational Monte Carlo Study of the Current Carried by a Quasiparticle", "Condensed Matter"), Example("Universal quantum critical dynamics of two-dimensional antiferromagnets", "Condensed Matter"), Example("Primordial Black-Hole Mimicker in Quadratic Gravity as Dark Matter", "General Relativity and Quantum Cosmology"), Example("Fundamental theorem on gauge fixing at the action level", "General Relativity and Quantum Cosmology"), Example("Bianchi Cosmological Models and Gauge Symmetries", "General Relativity and Quantum Cosmology"), Example("Extended R-matrix description of two-proton radioactivity", "Nuclear Theory"), Example("EoS constraints from nuclear masses and radii in a meta-modeling approach", "Nuclear Theory"), Example("Nuclear muon capture by 3He: meson exchange currents for the triton channel", "Nuclear Theory"), Example("Generating multi-excitation subradiant states in incoherently excited atomic arrays", "Quantum Physics"), Example("Quantum Mechanical Coherence, Resonance, and Mind", "Quantum Physics"), Example("The geometric measure of entanglement for a symmetric pure state with positive amplitudes", "Quantum Physics"), Example("Conformal Dirac-Einstein equations on manifolds with boundary", "Mathematics"), Example("Secure Wireless Communication and Optimal Power Control under Statistical Queueing Constraints", "Mathematics"), Example("The Bieri-Neumann-Strebel invariants for graph groups   ", "Mathematics"), Example("Modeling Advection on Directed Graphs using Matérn Gaussian Processes for Traffic Flow", "Computer Science"), Example("The Design and Experimental Analysis of Algorithms for Temporal Reasoning", "Computer Science"), Example("Decidable Reasoning in Terminological Knowledge Representation Systems", "Computer Science"), Example("Informationally Robust Cheap-Talk", "Economics"), Example("Productivity development in the construction industry and human capital: a literature review", "Economics"), Example("Financial Markets, Financial Institutions and International Trade: Examining the causal links for Indian Economy", "Economics")])
    
    return response.classifications[0].prediction

#takes content as a string
def summarize(content):
    prompt = content + "\nTLDR:"
    response = co.generate(
        model='71e5bbda-c6ac-4b86-86f3-7d2c1414777f-ft',
        prompt=prompt,
        truncate="START",
        max_tokens = 350)
    return response.generations[0].text

def get_title(blurb):
    prompt = blurb + "Title: "
    response = co.generate(
        model = "ef167f8e-a5f8-4c50-988a-fa6937ef7338-ft",
        prompt = prompt
    )
    return response
